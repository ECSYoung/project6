{"version":3,"sources":["firebase.js","Components/Helmet.js","Components/Preloader.js","Components/Header.js","Components/Search.js","Components/ProductText.js","Components/ProductImage.js","Components/ReviewReadPanel.js","Components/StarRating.js","Components/ReviewSubmitButton.js","Components/ReviewForm.js","Components/ReviewParent.js","Components/ProductInfo.js","Components/ResultItem.js","Components/Results.js","Components/Carousel.js","Components/FilterResults.js","Components/Sorting.js","Components/Wishlist.js","Components/UserReviews.js","Components/Main.js","Components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","Application","className","Helmet","name","content","property","React","Component","Preloader","id","Header","handleClick","setState","isUp","state","to","this","props","user","displayName","email","exact","activeStyle","display","isActive","_","pathname","test","onClick","logout","icon","faChevronCircleDown","faListAlt","tabIndex","aria-label","login","Search","escapeRegexCharacters","str","replace","getSuggestions","value","escapedValue","trim","toLowerCase","regex","RegExp","suggestionsOptions","filter","suggestion","getSuggestionValue","renderSuggestion","query","suggestionText","matches","AutosuggestHighlightMatch","parts","AutosuggestHighlightParse","map","part","index","highlight","key","text","onChange","event","newValue","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","onSuggestionSelected","e","suggestionValue","suggestionIndex","sectionIndex","method","preventDefault","handleSubmit","handleSearchInput","Swal","fire","title","veganProducts","forEach","dataObject","brand","push","product_type","suggestionsUnique","Set","inputProps","placeholder","onSubmit","htmlFor","slice","focusInputOnSuggestionClick","ProductText","addToWishlist","product","handleRemove","removeFromWishlist","price","price_sign","parseInt","toFixed","currency","rating","path","faPlusCircle","faMinusCircle","ReviewLink","match","useRouteMatch","activateOnlyWhenExact","setActiveID","label","ProductImage","src","api_featured_image","alt","ReviewReadPanel","review","reviewDate","userImg","userName","userReview","userRepurchase","userRating","StarRating","hoverHandler","ev","stars","target","parentElement","getElementsByClassName","hoverValue","dataset","Array","from","star","style","color","setRating","refs","currentRating","starClickHandler","starRatingFuncProp","handleKeyPress","ref","data-rating","onMouseOut","numberOfStars","keys","n","data-value","onMouseOver","onKeyDown","ReviewSubmitButton","readReview","type","ReviewForm","action","handleFormSubmit","format","ticking","timezone","date","dateProp","output","handleChange","userNameProp","rows","cols","handleChangeTxtArea","userReviewProp","radioChange","starRatingFunc","ReviewParent","changeEvent","dbRef","database","activeID","dbRefUser","userID","productID","setRead","isWriting","toggleReadReview","setWrite","getStarRating","getUserInputDateTime","currentDateTime","reviews","isReviewing","uid","photoURL","on","response","dataFromDb","val","newState","off","userStarProp","onStarClick","userRatingProp","length","reviewList","ProductInfo","maxLength","description","substring","href","product_link","rel","product_colors","colour_name","background","hex_value","render","ResultItem","Results","checkForProduct","itemAlreadyOnList","wishlist","keyToDelete","remove","dbData","filteredResults","Carousel","randomVeganArray","veganArrayCopy","allItemsArray","randomFive","i","randomNum","Math","floor","random","splice","width","height","displayQuantityOfSide","enableScroll","clickable","active","eachItem","image_link","data-action","FilterResults","filterSelection","set","refineArray","checked","add","delete","updateRefinedItemsMain","updaterefinedItems","class","ame","Sorting","sortingHandle","sortDataArray","split","isAscending","sortData","ascending","updateSortBy","Wishlist","withRouter","userWishlist","productIDs","Object","values","productArray","UserReviews","products","dataFromDB","reviewedProducts","indexOf","customHistory","createBrowserHistory","Main","input","validateInput","searchInput","isSearched","filterResults","sortArray","arrayToSort","sortingArray","sort","productA","productB","returnValue","productAValue","sortBy","productBValue","isNaN","toUpperCase","parseFloat","filteredArray","sortedArray","productType","productName","productBrand","includes","originalResults","newResults","refinedCategory","filterRefinedArray","eachProduct","tag_list","eachTag","choice","sortedRefinedArray","option","Footer","App","signInWithPopup","then","result","signOut","veganArray","isLoading","axios","url","responseType","params","product_tags","data","onAuthStateChanged","currentUser","userCheck","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.86994ffb.chunk.js","sourcesContent":["// firebase.js\r\nimport firebase from \"firebase\";\r\n\r\n// Initialize Firebase\r\n// USE YOUR CONFIG OBJECT\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCd2gqxrwZeTSOKYXliPvRpQK52kk_TVwc\",\r\n    authDomain: \"ethicalmakeup-9f173.firebaseapp.com\",\r\n    databaseURL: \"https://ethicalmakeup-9f173.firebaseio.com\",\r\n    projectId: \"ethicalmakeup-9f173\",\r\n    storageBucket: \"ethicalmakeup-9f173.appspot.com\",\r\n    messagingSenderId: \"446242384772\",\r\n    appId: \"1:446242384772:web:26fb2fdb2b7bc6716bcbd1\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// this exports the CONFIGURED version of firebase\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nexport const auth = firebase.auth();\r\nexport default firebase;","// a couple of functions from the React library\r\nimport React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nclass Application extends React.Component {\r\n    render() {\r\n        return (\r\n        <div className=\"application\">\r\n            <Helmet>\r\n            <title>• Ethical Makeup •</title>\r\n            {/* search metadata */}\r\n            <meta name=\"description\" content=\"Search for vegan makeup products\" />\r\n            <meta name=\"robots\" content=\"index, nofollow\" />\r\n            <meta name=\"author\" content=\"Sui Young, Naveen Malhotra, Jobert Manosca, Stephanie Kerr\" />\r\n            {/* twitter metadata */}\r\n            <meta name=\"twitter:card\" content=\"summary\" />\r\n            <meta name=\"twitter:title\" content=\"Ethical Makeup\" />\r\n            <meta name=\"twitter:description\"\r\n                content=\"Search for vegan makeup products\" />\r\n            {/* <meta name=\"twitter:image\" content=\"\" /> */}\r\n            {/* linkedin and facebook metadata */}\r\n            <meta property=\"og:url\" content=\"https://ethicalMakeupC25.github.io/project6/\" />\r\n            <meta property=\"og:type\" content=\"website\" />\r\n            <meta property=\"og:title\" content=\"Ethical Makeup\" />\r\n            <meta property=\"og:description\"\r\n                content=\"Search for vegan makeup products\" />\r\n            {/* <meta property=\"og:image\" content=\"\" /> */}\r\n            </Helmet>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Application;\r\n","import React from 'react';\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className=\"preloader\">\r\n            <div id=\"global\">\r\n\r\n                <div id=\"top\" className=\"mask\">\r\n                    <div className=\"plane\"></div>\r\n                </div>\r\n                <div id=\"middle\" className=\"mask\">\r\n                    <div className=\"plane\"></div>\r\n                </div>\r\n\r\n                <div id=\"bottom\" className =\"mask\">\r\n\r\n      <div className=\"plane\"></div>\r\n                </div>\r\n\r\n                <p>LOADING...</p>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import React, { Fragment, Component } from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faListAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { faChevronCircleDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass Header extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isUp: false,\r\n        }\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.setState({\r\n            isUp: !this.state.isUp\r\n        })\r\n    }\r\n\r\n    \r\n    \r\n    render() {\r\n        return (\r\n            <header>\r\n                <nav className=\"wrapper\">\r\n                    <Link to=\"/project6/\"><h1>Ethical Makeup</h1></Link>\r\n                    {\r\n                        //null is falsy .: if props.user is null, show login\r\n                        //if props.user is truthy, show additional features and logout\r\n                        this.props.user\r\n                        ?\r\n                            <Fragment>\r\n                                <div className=\"userDetails\">\r\n                                    {/* if no displayname exists, show email */}\r\n                                    <p>Hi {this.props.user.displayName || this.props.user.email}!</p>\r\n                                    <div className=\"buttonContainer\">\r\n                                        <NavLink\r\n                                            exact\r\n                                            to=\"/project6/\"\r\n                                            className=\"linkStyle\"\r\n                                            activeStyle={{display: \"none\"}}\r\n                                            isActive={(_, { pathname }) => {\r\n                                                const regex = /\\/project6\\/products.*$/gmi;\r\n                                                return pathname === '/project6' || pathname === '/project6/' ? true : regex.test(pathname);\r\n                                            }}\r\n                                        >search</NavLink>\r\n                                        <NavLink to=\"/project6/wishlist\" className=\"linkStyle\" activeStyle={{display: \"none\"}}>wishlist</NavLink>\r\n                                        <NavLink to=\"/project6/reviews\" className=\"linkStyle\" activeStyle={{display: \"none\"}}>your reviews</NavLink>\r\n                                        <button className=\"navButton\" onClick={this.props.logout}>log out</button>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"mobileUserDetails\">\r\n                                    <div className=\"wrapper\">\r\n                                        <div className=\"display\">\r\n                                            {/* if no displayname exists, show email */}\r\n                                            <p>Hi {this.props.user.displayName || this.props.user.email}!</p>\r\n                                            <FontAwesomeIcon icon={this.state.isUp ? faChevronCircleDown : faListAlt} className=\"toggleMenu\" tabIndex=\"0\" aria-label=\"open and close user menu\" onClick={this.handleClick} />\r\n                                        </div>\r\n                                        {\r\n                                            this.state.isUp\r\n                                                ?\r\n                                                <div className=\"buttonContainer\">\r\n                                                    <NavLink\r\n                                                        exact\r\n                                                        to=\"/project6/\"\r\n                                                        className=\"linkStyle\"\r\n                                                        activeStyle={{display: \"none\"}}\r\n                                                        isActive={(_, { pathname }) => {\r\n                                                            const regex = /\\/project6\\/products.*$/gmi;\r\n                                                            return pathname === '/project6' || pathname === '/project6/' ? true : regex.test(pathname);\r\n                                                        }}\r\n                                                    >search</NavLink>\r\n                                                    <NavLink to=\"/project6/wishlist\" className=\"linkStyle\" activeStyle={{display: \"none\"}}>wishlist</NavLink>\r\n                                                    <NavLink to=\"/project6/reviews\" className=\"linkStyle\" activeStyle={{display: \"none\"}}>your reviews</NavLink>\r\n                                                    <button className=\"navButton\" onClick={this.props.logout}>log out</button>\r\n                                                </div>\r\n                                                :\r\n                                                null\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </Fragment>\r\n                        :\r\n                            <button \r\n                                onClick={this.props.login}\r\n                                className=\"logInButton navButton\">log in to save to wishlist</button>\r\n                    }\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport AutosuggestHighlightMatch from 'autosuggest-highlight/match';\r\nimport AutosuggestHighlightParse from 'autosuggest-highlight/parse';\r\nimport Swal from 'sweetalert2';\r\n// all functions below related to suggestions has been adapted from https://www.npmjs.com/package/react-autosuggest and https://codepen.io/moroshko/pen/PZWbzK\r\n\r\nclass Search extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        //initialize state\r\n        this.state = {\r\n            //to handle value of user search input\r\n            value: '',\r\n            //to handle all suggestions produced by autosuggest\r\n            suggestions: [],\r\n            //to handle all suggestions produced by original veganProducts array\r\n            suggestionsOptions: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // pull brands, product types and names for autosuggestions by iterating over veganProducts and pushing brand, product type and name values to an empty array\r\n        const suggestions = [];\r\n        this.props.veganProducts.forEach((dataObject) => {\r\n            //null and undefined is falsy, .: don't push these values\r\n            if (dataObject.brand) {\r\n                suggestions.push(dataObject.brand)\r\n            }\r\n            if (dataObject.product_type) {\r\n                suggestions.push(dataObject.product_type)\r\n            }\r\n            if (dataObject.name) {\r\n                suggestions.push(dataObject.name)\r\n            }\r\n        })\r\n        // Set will filter out duplicates from the array\r\n        const suggestionsUnique = [...new Set(suggestions)];\r\n\r\n        // update state with processed suggestions from veganProducts\r\n        this.setState({\r\n            suggestionsOptions: suggestionsUnique\r\n        })\r\n    }\r\n\r\n    //escape special characters for search\r\n    escapeRegexCharacters = (str) => {\r\n        //escaped everything but '.' because of a common search result: 'e.l.f.'\r\n        return str.replace(/[*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n    }\r\n\r\n    //this function teaches autosuggest how to calculate suggestions for any given input value\r\n    getSuggestions = (value) => {\r\n        //pass value into escapeRegexCharacters function to remove characters, also trim white space, and set to lowercase\r\n        const escapedValue = this.escapeRegexCharacters(value.trim().toLowerCase());\r\n\r\n        //if there's no user input, return empty array\r\n        if (escapedValue === '') {\r\n            return [];\r\n        }\r\n\r\n        //create regex based on processed input\r\n        const regex = new RegExp('\\\\b' + escapedValue, 'i');\r\n\r\n        //return filtered suggestionsOptions array by applying a regex test\r\n        return this.state.suggestionsOptions.filter(suggestion => regex.test(this.getSuggestionValue(suggestion)));\r\n    }\r\n\r\n    //when suggestion is clicked, autosuggest needs to populate input based on clicked suggestion\r\n    //this function teaches autosuggest how to calculate the input value for every given suggestion\r\n    getSuggestionValue = suggestion => suggestion;\r\n\r\n    //render the list of suggestions\r\n    renderSuggestion = (suggestion, { query }) => {\r\n        const suggestionText = suggestion;\r\n        const matches = AutosuggestHighlightMatch(suggestionText, query);\r\n        const parts = AutosuggestHighlightParse(suggestionText, matches);\r\n\r\n        //render the list and apply class of highlight to parts that match input\r\n        return (\r\n            <span className={'suggestion-content '}>\r\n                <span className=\"suggestion\">\r\n                    {   \r\n                        //this produces spans around everything that needs to be highlighted\r\n                        parts.map((part, index) => {\r\n                            const className = part.highlight ? 'highlight' : null;\r\n        \r\n                            return (\r\n                                <span className={className} key={index}>{part.text}</span>\r\n                            );\r\n                        })\r\n                    }\r\n                </span>\r\n            </span>\r\n        );\r\n    };\r\n\r\n    //handle change on input and save to state\r\n    onChange = (event, { newValue }) => {\r\n        this.setState({\r\n            value: newValue\r\n        });\r\n    };\r\n\r\n    //store suggestions to state\r\n    onSuggestionsFetchRequested = ({ value }) => {\r\n        this.setState({\r\n            suggestions: this.getSuggestions(value)\r\n        });\r\n    };\r\n\r\n    //clear state\r\n    onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n            suggestions: []\r\n        });\r\n    };\r\n\r\n    //when searchbar suggestion is clicked on instead of submitted via enter, acts as handle change and calls submit handler\r\n    onSuggestionSelected = (e, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            value: suggestionValue\r\n        }, () => {this.handleSubmit(e)})\r\n    }\r\n\r\n    //locally resolve submit and then pass to parent component\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.value) {\r\n            //call parent function and pass value up\r\n            this.props.handleSearchInput(this.state.value);\r\n            //clear state\r\n            this.setState({\r\n                value: ''\r\n            })\r\n        } else {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'You may want to search for something first!'\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { value, suggestions } = this.state;\r\n\r\n        //set up input attributes here for Autosuggest\r\n        const inputProps = {\r\n            placeholder: 'product type, name or brand',\r\n            value,\r\n            onChange: this.onChange,\r\n            id: 'productSearch'\r\n        }\r\n\r\n        return (\r\n            <section className=\"searchBar\">\r\n                <form onSubmit={(e) => {this.handleSubmit(e)}}>\r\n                    <label htmlFor=\"productSearch\">Search for vegan makeup by type, name or brand.</label>\r\n                    <Autosuggest \r\n                        suggestions={suggestions.slice(0, 5)}\r\n                        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                        getSuggestionValue={this.getSuggestionValue}\r\n                        onSuggestionSelected={this.onSuggestionSelected}\r\n                        renderSuggestion={this.renderSuggestion}\r\n                        inputProps={inputProps}\r\n                        focusInputOnSuggestionClick={false}\r\n                    />\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { faMinusCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { BrowserRouter as Router, Route, Link, useRouteMatch } from 'react-router-dom';\r\n\r\nclass ProductText extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {}\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.props.addToWishlist(this.props.product);\r\n  }\r\n\r\n  handleRemove = () => {\r\n    this.props.removeFromWishlist(this.props.product.id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"productTextContainer\">\r\n        <div className=\"productText\">\r\n          <h2 className=\"visuallyHidden\">{this.props.product.name}</h2>\r\n          <p>Brand: {!this.props.product.brand ? \"Not available\" : this.props.product.brand}</p>\r\n          <p>Price: {\r\n            this.props.product.price === \"0.0\" ? \"Not available\" : `${this.props.product.price_sign ? this.props.product.price_sign : '$'}${parseInt(this.props.product.price).toFixed(2)} ${this.props.product.currency ? this.props.product.currency : ''}`\r\n          }</p>\r\n          <p>Rating: {!this.props.product.rating ? \"Not yet rated\" : `${this.props.product.rating}/5`}</p>\r\n        </div>\r\n        \r\n        {/* display add or remove buttons based on route */}\r\n        <Route path=\"/project6/products\" >\r\n          <button className=\"add\" onClick={this.handleClick}><FontAwesomeIcon icon={faPlusCircle} /></button>\r\n        </Route>\r\n        <Route path=\"/project6/wishlist\" >\r\n          <button className=\"remove\" onClick={this.handleRemove}><FontAwesomeIcon icon={faMinusCircle} /></button>\r\n        </Route>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductText;","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Link, useRouteMatch } from 'react-router-dom';\r\nimport ProductText from './ProductText';\r\n// Router and Route required for the review buttons, even though they're not technically used in the code itself.\r\n\r\n// Custom Link component which hides it if the user has already clicked it\r\nconst ReviewLink = (props) => {\r\n  let match = useRouteMatch({\r\n    path: props.to,\r\n    exact: props.activateOnlyWhenExact\r\n  });\r\n\r\n  return(\r\n    <div className={match ? \"hide\" : \"\"}>\r\n      <Link className=\"reviewLink\" onClick={(e) => props.setActiveID(e, props.product.id)} to={props.to}>{props.label}</Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass ProductImage extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"productImage\" id=\"main\">\r\n        {/* Opens detailed product info */}\r\n        <Link to={`/project6/products/${this.props.product.id}`}>\r\n          <img\r\n            onClick={e => this.props.setActiveID(e, this.props.product.id)}\r\n            src={this.props.product.api_featured_image}\r\n            alt={this.props.product.name}\r\n          />\r\n        </Link>\r\n\r\n        {/* Text on image */}\r\n        <ProductText \r\n        product={this.props.product} \r\n        addToWishlist={this.props.addToWishlist} \r\n        removeFromWishlist={this.props.removeFromWishlist}/>\r\n\r\n        {/* Link that opens review panels */}\r\n        <ReviewLink\r\n          activateOnlyWhenExact={true}\r\n          setActiveID={this.props.setActiveID}\r\n          product={this.props.product}\r\n          to={`/project6/products/${this.props.product.id}/review`}\r\n          label=\"Reviews\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductImage;","// a couple of functions from the React library\r\nimport React, { Fragment } from \"react\";\r\n\r\nconst ReviewReadPanel = ({review}) => {\r\n    return (\r\n        <div className=\"reviewPanel\">\r\n\r\n            <div className=\"userDetailsReview\">\r\n                <span className=\"userSpan\">Review Date: </span>{review.review.reviewDate}\r\n                <div className=\"userImg\">\r\n                    <img src={review.review.userImg} alt={review.review.userName}/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"review\">\r\n                <p>\r\n                <span className=\"userSpan\">{review.review.userName}</span>\r\n                {review.review.userReview}\r\n                <span className=\"userSpan\">Would you buy this again:</span>\r\n                {review.review.userRepurchase}\r\n                <span className=\"userSpan\">User Rated this product: </span>\r\n                {\r\n                    // error handling for user rating.\r\n                    review.review.userRating ?\r\n                    <Fragment>\r\n                        {review.review.userRating}/5\r\n                    </Fragment>\r\n                    :\r\n                    <Fragment>\r\n                        User did not provide rating out of 5.\r\n                    </Fragment>\r\n                }\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReviewReadPanel;\r\n","import React, { Component } from \"react\";\r\n\r\n\r\n// star rating component from https://scotch.io/tutorials/build-a-star-rating-component-for-react; adjusted for use in this project.\r\n\r\nclass StarRating extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        currentRating: this.props.currentRating\r\n        // this.state.currentRating used to generate value that assigns the visual number of yellow stars, as well as what is sent to state and firebase.\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setRating();\r\n    }\r\n\r\n    hoverHandler = ev => {\r\n        const stars = ev.target.parentElement.getElementsByClassName(\"star\");\r\n        const hoverValue = ev.target.dataset.value;\r\n        Array.from(stars).forEach(star => {\r\n        star.style.color = hoverValue >= star.dataset.value ? \"yellow\" : \"gray\";\r\n        });\r\n    };\r\n\r\n    setRating = ev => {\r\n        const stars = this.refs.rating.getElementsByClassName(\"star\");\r\n        Array.from(stars).forEach(star => {\r\n        star.style.color =\r\n            this.state.currentRating >= star.dataset.value ? \"yellow\" : \"gray\";\r\n        });\r\n    };\r\n\r\n    starClickHandler = ev => {\r\n        let rating = ev.target.dataset.value;\r\n        this.setState({ \r\n            currentRating: rating \r\n        }, () => {\r\n            this.props.starRatingFuncProp(this.state.currentRating)\r\n        }); // set state so the rating stays highlighted\r\n    }\r\n\r\n\r\n    handleKeyPress = (event) => {\r\n    if(event.key === 'Enter'){\r\n        let rating = event.target.dataset.value;\r\n        this.setState({ \r\n            currentRating: rating \r\n        }, () => {\r\n            this.props.starRatingFuncProp(this.state.currentRating)\r\n        }); // set state so the rating stays highlighted\r\n    } \r\n    this.setRating();\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n        <div\r\n            className=\"rating\"\r\n            ref=\"rating\"\r\n            data-rating={this.state.currentRating}\r\n            onMouseOut={this.setRating}\r\n        >\r\n            {[...Array(+this.props.numberOfStars).keys()].map(n => {\r\n            return (\r\n                <span\r\n                className=\"star\"\r\n                key={n + 1}\r\n                data-value={n + 1}\r\n                value={n + 1}\r\n                onMouseOver={this.hoverHandler}\r\n                onClick={this.starClickHandler}\r\n                onKeyDown={ this.handleKeyPress } \r\n                tabIndex= { 0 }\r\n                aria-label=\"star for user rating\"\r\n                >\r\n                &#9733;\r\n                </span>\r\n            );\r\n            })}\r\n            \r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StarRating;\r\n","// a couple of functions from the React library\r\nimport React, { Component } from 'react';\r\n\r\nclass ReviewSubmitButton extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            readReview: true\r\n        }\r\n    \r\n}\r\n    render(){\r\n        return (\r\n            <button \r\n                    className=\"submitButton\" \r\n                    type=\"submit\">\r\n                    Submit\r\n            </button>\r\n            );\r\n    }\r\n    \r\n}\r\nexport default ReviewSubmitButton;","// a couple of functions from the React library\r\nimport React from \"react\";\r\nimport StarRating from './StarRating';\r\nimport ReviewSubmitButton from \"./ReviewSubmitButton\";\r\nimport Clock from \"react-live-clock\";\r\n\r\n\r\nconst ReviewForm = props => (\r\n    <div className=\"reviewInput wrapper\">\r\n        <form className=\"reviewForm\" action=\"submit\" onSubmit={e => props.handleFormSubmit(e)}>\r\n\r\n            <Clock\r\n                format={'dddd, MMMM Do, YYYY, h:mm:ss A'}\r\n                ticking={true}\r\n                timezone={'America/Toronto'}\r\n                onChange={date => {props.dateProp(date.output)}}\r\n                />\r\n\r\n            <label \r\n                className=\"visuallyHidden\" \r\n                htmlFor=\"userName\"\r\n                >\r\n                Please Enter Your Name!\r\n            </label>\r\n            <input\r\n                name=\"userName\"\r\n                placeholder= \"What is your name?\"\r\n                className=\"nameInputField\"\r\n                type=\"text\"\r\n                id=\"userName\"\r\n                onChange={props.handleChange}\r\n                value={props.userNameProp} // good for accessibility and screen readers, this will track the changes even if they leave and come back\r\n            />\r\n\r\n            <label \r\n                className=\"visuallyHidden\" \r\n                htmlFor=\"userReview\"\r\n                >\r\n                Please Enter Your Name!\r\n            </label>\r\n            <textarea \r\n                id=\"userReview\" \r\n                name=\"userReview\"\r\n                rows=\"10\" \r\n                cols=\"80\" \r\n                placeholder=\"Your Review:\"\r\n                onChange={props.handleChangeTxtArea}\r\n                value={props.userReviewProp}\r\n                ></textarea>\r\n\r\n            <section className=\"radioSection\">\r\n            {/* radio input for purchase or won't repurchase. */}\r\n                <p>Would You Repurchase This Item?</p>\r\n                <div>\r\n                    <div className=\"yesInput\">\r\n                        <input \r\n                            type=\"radio\" \r\n                            id=\"Yes\" \r\n                            value=\"yes\"\r\n                            name=\"reviewForm\"\r\n                            onChange={props.radioChange}\r\n                            />\r\n                        <label htmlFor=\"Yes\">Yes</label>\r\n                    </div>\r\n\r\n                    <div className=\"noInput\">\r\n                        <input\r\n                            type=\"radio\" \r\n                            id=\"No\" \r\n                            value=\"no\"\r\n                            name=\"reviewForm\"\r\n                            onChange={props.radioChange\r\n                            }\r\n                            />\r\n                        <label htmlFor=\"No\">No</label>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <section className=\"userStarRating\">\r\n                <span className=\"userSpan\">How Would You Rate This Product:</span>\r\n                <div className=\"starsOnly\">\r\n                    <StarRating\r\n                        numberOfStars=\"5\"\r\n                        currentRating=\"0\"\r\n                        onClick={props.setRating}\r\n                        starRatingFuncProp = {props.starRatingFunc}\r\n                        />\r\n                </div>\r\n            </section>\r\n\r\n            <ReviewSubmitButton />\r\n\r\n        </form>\r\n    </div>\r\n);\r\n\r\nexport default ReviewForm;\r\n","import React, { Component, Fragment } from \"react\";\r\nimport firebase from \"./../firebase\";\r\nimport Swal from \"sweetalert2\";\r\nimport ReviewReadPanel from \"./ReviewReadPanel\";\r\nimport ReviewForm from \"./ReviewForm\";\r\n\r\nclass ReviewParent extends Component {\r\n    constructor() {\r\n        super();\r\n        //setting initial state\r\n        this.state = {\r\n            //empty reviews array to take in database info\r\n            reviews: [],\r\n            //handlers for user review form\r\n            userName: \"\",\r\n            userRating: 0,\r\n            userReview: \"\",\r\n            userRepurchase: \"\",\r\n            //for assigning userID on mount\r\n            userID: \"\",\r\n            isReviewing: false,\r\n            userImg: \"\", \r\n            reviewDate: '',\r\n\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        //error handling for anonymous users, assigns userID on mount which will be used for form submission to firebase\r\n        if (this.props.user) {\r\n            this.setState({\r\n                userID: this.props.user.uid,\r\n                userImg: this.props.user.photoURL\r\n            })\r\n        } else {\r\n            this.setState({\r\n                userID: '00000',\r\n                userImg: \"https://i.ibb.co/rQsjc9y/images.png\"\r\n            })\r\n        }\r\n\r\n        //create a variable that holds a reference to database\r\n        const dbRef = firebase.database().ref(`products/${this.props.activeID}/`);\r\n        //event listener that takes a callback function used to get data from the database and called response\r\n        dbRef.on(\"value\", response => {\r\n            const dataFromDb = response.val();\r\n            const newState = [];\r\n            //loop through dataFromDb and push reviews into array as well as the matching key to be used for React DOM\r\n            for (let key in dataFromDb) {\r\n                newState.push({ review: dataFromDb[key], key })\r\n            }\r\n            // see the information and parse the way we want it.\r\n            // call this.setState to update the component state using the local array newState.\r\n            this.setState({\r\n                    reviews: newState\r\n            });\r\n        })\r\n    }\r\n\r\n    //functions to handle inputs for review form:\r\n    handleChange = e => {\r\n        this.setState({\r\n            userName: e.target.value,\r\n            \r\n        })\r\n    }\r\n\r\n    handleChangeTxtArea = e => {\r\n        this.setState({\r\n            userReview: e.target.value\r\n        })\r\n    }\r\n\r\n    radioChange = (changeEvent) => {\r\n        this.setState({\r\n            userRepurchase: changeEvent.target.value\r\n        })\r\n    }\r\n\r\n    //on submit, push user input into firebase\r\n    handleFormSubmit = e => {\r\n        e.preventDefault(); \r\n        // error handling to prevent the user from leaving any of the review form fields blank   \r\n        if (!this.state.userName ||\r\n            !this.state.userReview ||\r\n            !this.state.userRepurchase) {\r\n                Swal.fire({\r\n                    icon: \"error\",\r\n                    title: \"Oops...\",\r\n                    text:\r\n                        \"You've missed something! Please fill everything in the form!\"\r\n                });\r\n            } else {\r\n                const dbRef = firebase.database().ref(`products/${this.props.activeID}/`);\r\n                const dbRefUser = firebase.database().ref(`users/${this.state.userID}/reviews/`);\r\n                //double push to save review to products and to users\r\n                //firebase database is structured to allow ease of referencing information for 3 different pulls: 1. all reviews by product 2. all reviews by user and 3. all wishlist items by user\r\n                dbRef.push({\r\n                    userName: this.state.userName,\r\n                    userImg:this.state.userImg, \r\n                    reviewDate: this.state.reviewDate,\r\n                    userRating:this.state.userRating,\r\n                    userReview: this.state.userReview,\r\n                    userRepurchase: this.state.userRepurchase,\r\n                    userID: this.state.userID\r\n                })\r\n                dbRefUser.push({\r\n                    userName: this.state.userName,\r\n                    reviewDate: this.state.reviewDate,\r\n                    userImg: this.state.userImg,\r\n                    userRating: this.state.userRating,\r\n                    userReview: this.state.userReview,\r\n                    userRepurchase: this.state.userRepurchase,\r\n                    userID: this.state.userID,\r\n                    productID: this.props.activeID\r\n                })\r\n                // return input to empty.\r\n                this.setState({\r\n                    userName: \"\",\r\n                    userReview: \"\",\r\n                    userRepurchase: \"\"\r\n                }, this.setRead)\r\n            }\r\n        };\r\n\r\n    // toggle buttongs for the read review and write review once the user clicks on review from the initial list of appended products after the search.\r\n    setRead = () => {\r\n        if (this.props.isWriting) {\r\n            this.props.toggleReadReview();\r\n        }\r\n    }\r\n\r\n    setWrite = () => {\r\n        if (!this.props.isWriting) {\r\n            this.props.toggleReadReview();\r\n        }\r\n    }\r\n\r\n    // function to grab value from the star rating at the bottom of the review form before the submit button.\r\n    getStarRating = (currentRating) => {\r\n        this.setState({\r\n            userRating: currentRating\r\n        })\r\n    } \r\n    \r\n    // function to grab current date value from the clock component package. **not essential function, purely aesthetic.\r\n    getUserInputDateTime = (currentDateTime) => {\r\n        this.setState({\r\n            reviewDate: currentDateTime\r\n        });\r\n    }\r\n\r\n    // unmounting firease event once this function is done.\r\n    componentWillUnmount() {\r\n        const dbRef = firebase.database().ref(`products/${this.props.activeID}/`);\r\n        dbRef.off();\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"reviewButtons\">\r\n                    <button onClick={this.setWrite}>write review</button>\r\n                    <button onClick={this.setRead}>reviews</button>\r\n                </div>\r\n                <div className={`mainGrid wrapper noOverflowX ${!this.props.isWriting && \"scrollOn\"}`} >\r\n                { \r\n                    !this.props.isWriting ? \r\n                    <div className=\"reviews\">\r\n                        { this.state.reviews.length !== 0\r\n                            ?\r\n                            this.state.reviews.map(reviewList => {\r\n                                return <ReviewReadPanel review={reviewList} key={reviewList.key} user={this.props.user}/>\r\n                            })\r\n                            :\r\n                            <p>Oops, no reviews exist of this product yet! Why not leave your own review if you've tried this product before?</p>\r\n                        }\r\n                    </div> : \r\n                    <ReviewForm\r\n                        handleFormSubmit={this.handleFormSubmit}\r\n                        handleChangeTxtArea={this.handleChangeTxtArea}\r\n                        handleChange={this.handleChange}\r\n                        radioChange={this.radioChange}\r\n                        userNameProp={this.state.userName}\r\n                        userReviewProp={this.state.userReview}\r\n                        userStarProp={this.onStarClick}\r\n                        userRatingProp={this.userRating}\r\n                        starRatingFunc = {this.getStarRating}\r\n                        dateProp = {this.getUserInputDateTime}\r\n                    />\r\n                }\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default ReviewParent;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport ReviewParent from './ReviewParent';\r\n// Router required, even though they're not technically used in the code itself.\r\n\r\n\r\nclass ProductInfo extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    // Max  characters a description can hold before trailing off\r\n    this.state = {\r\n      maxLength: 250\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"productInfo\">\r\n          <h2>{this.props.product.name}</h2>\r\n          <p>\r\n            {/* Cut off description at the maximum allowed length and add ... */}\r\n            {this.props.product.description.length > this.state.maxLength ? (\r\n              <Fragment>\r\n                {`${this.props.product.description.substring(\r\n                  0,\r\n                  this.state.maxLength\r\n                )}... `}\r\n                <span className=\"infoLink\">\r\n                  <a\r\n                    href={this.props.product.product_link}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    Product Page\r\n                  </a>\r\n                </span>\r\n              </Fragment>\r\n            ) : (\r\n              <Fragment>\r\n                {this.props.product.description}\r\n                <span className=\"infoLink\">\r\n                  <a\r\n                    href={this.props.product.product_link}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    Product Page\r\n                  </a>\r\n                </span>\r\n              </Fragment>\r\n            )}\r\n          </p>\r\n          <h3>Colors:</h3>\r\n          <div className=\"productColors\">\r\n            {this.props.product.product_colors.length === 0 ? (\r\n              <p>No colors available.</p>\r\n            ) : (\r\n              this.props.product.product_colors.map(color => {\r\n                return (\r\n                  <span\r\n                    key={color.colour_name}\r\n                    aria-label={color.colour_name}\r\n                    style={{ background: color.hex_value }}\r\n                    title={color.colour_name}\r\n                  ></span>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </div>\r\n        {/* Route that displays when user clicks on Reviews */}\r\n        <Route\r\n          path=\"/project6/products/:productID/review\"\r\n          exact\r\n          render={() => (\r\n            <ReviewParent\r\n              user={this.props.user}\r\n              activeID={this.props.activeID}\r\n              isWriting={this.props.isWriting}\r\n              toggleReadReview={this.props.toggleReadReview}\r\n            />\r\n          )}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductInfo;","import React, { Component, Fragment } from 'react';\r\nimport ProductImage from './ProductImage';\r\nimport ProductInfo from './ProductInfo';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\n// React-router-dom required, even though not used in code.\r\n\r\nclass ResultItem extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    // max length for product description\r\n    this.state = {\r\n      isWriting: false\r\n    }\r\n  }\r\n\r\n  toggleReadReview = () => {\r\n    this.setState({isWriting: !this.state.isWriting});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n\r\n        <div className={`result ${this.props.activeID === this.props.product.id && \"selected\"}`} >\r\n          <ProductImage product={this.props.product} \r\n          setActiveID={this.props.setActiveID}\r\n          addToWishlist={this.props.addToWishlist}\r\n          removeFromWishlist={this.props.removeFromWishlist}/>\r\n          \r\n          {/* Display detailed info for active product */}\r\n          {this.props.activeID === this.props.product.id && \r\n          <ProductInfo \r\n          isWriting={this.state.isWriting} \r\n          toggleReadReview={this.toggleReadReview} \r\n          product={this.props.product} \r\n          activeID={this.props.activeID} \r\n          user={this.props.user}\r\n          />}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultItem;","import React, { Component } from 'react';\r\nimport ResultItem from './ResultItem';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport firebase from '../firebase';\r\nimport Swal from 'sweetalert2';\r\n\r\nclass Results extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      activeID: null,\r\n      wishlist: []\r\n    }\r\n  }\r\n\r\n  setActiveID = (e, id) => {\r\n    this.setState({activeID: id});\r\n  }\r\n\r\n  // loop through the wishlist and if there's a match with the given ID\r\n  // return true\r\n  checkForProduct = (productID) => {\r\n    let itemAlreadyOnList = false;\r\n    this.state.wishlist.filter(product => {\r\n      if(product.productID === productID){\r\n        itemAlreadyOnList = true;\r\n        return true;\r\n      }\r\n    });\r\n    return itemAlreadyOnList;\r\n  }\r\n\r\n  addToWishlist = (product) => {\r\n    // User can only add to a wishlist if they're logged in\r\n    if(!this.props.user) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: 'Please log in to make a wishlist!'\r\n      })\r\n    } \r\n    // User can only add items that aren't on the wishlist\r\n    else if(this.checkForProduct(product.id)) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: 'This product is already on your wishlist!'\r\n      })\r\n    } \r\n    \r\n    // Now that we know the user exists and there's no dupes, add it to the list.\r\n    else {\r\n\r\n      const dbRefUserWish = firebase.database().ref(`users/${this.props.user.uid}/wishlist`);\r\n      dbRefUserWish.push(product.id);\r\n\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Added to Wishlist!',\r\n        text: `${product.name} was added to your wishlist.`\r\n      })\r\n    }\r\n  }\r\n\r\n  // find the given ID from the wishlist and remove that item\r\n  removeFromWishlist = (id) => {\r\n    const filteredProduct = this.state.wishlist.filter(product => {\r\n      return product.productID === id\r\n    })\r\n\r\n    const keyToDelete = filteredProduct[0].key;\r\n\r\n    const dbRefUserWish = firebase.database().ref(`users/${this.props.user.uid}/wishlist/${keyToDelete}`);\r\n    dbRefUserWish.remove();\r\n  }\r\n\r\n  componentDidMount() {\r\n    // set a wishlist if user is logged in\r\n    if(this.props.user) {\r\n      const dbRefUserWish = firebase.database().ref(`users/${this.props.user.uid}/wishlist`);\r\n      dbRefUserWish.on('value', response => {\r\n        const newState = [];\r\n        const dbData = response.val();\r\n        if(dbData) {\r\n          for(let key in dbData) {\r\n            newState.push({productID: dbData[key], key});\r\n          }\r\n\r\n          this.setState({wishlist: newState});\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if(this.props.user) {\r\n      const dbRefUserWish = firebase.database().ref(`users/${this.props.user.uid}/wishlist`);\r\n      dbRefUserWish.off();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"results\">\r\n        {/* Displays items if the filtered results array isn't empty */}\r\n        {\r\n          this.props.filteredResults.length > 0\r\n            ?\r\n            this.props.filteredResults.map(product => {\r\n              return (\r\n                <ResultItem \r\n                    key={product.id} \r\n                    setActiveID={this.setActiveID} \r\n                    activeID={this.state.activeID} \r\n                    product={product} \r\n                    user={this.props.user} \r\n                    addToWishlist={this.addToWishlist}\r\n                    removeFromWishlist={this.removeFromWishlist}/>\r\n              );\r\n            })\r\n            :\r\n            <p>No results! Please try again.</p>\r\n        }\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Results;","import React, { Component } from 'react';\r\nimport Coverflow from \"react-coverflow\";\r\n\r\nclass Carousel extends Component {\r\n    constructor() {\r\n        super()\r\n\r\n        this.state = {\r\n            randomVeganArray: [],\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const veganArrayCopy = [...this.props.allItemsArray]\r\n        const randomFive = []\r\n\r\n        for (let i = 0; i < 5; i++) {\r\n            let randomNum = Math.floor(Math.random() * veganArrayCopy.length)\r\n            randomFive.push(veganArrayCopy[randomNum])\r\n            veganArrayCopy.splice(randomNum, 1)\r\n        }\r\n\r\n        this.setState({\r\n            randomVeganArray: randomFive\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Coverflow\r\n                width={960}\r\n                height={450}\r\n                displayQuantityOfSide={2}\r\n                enableScroll={true}\r\n                clickable={true}\r\n                active={Math.floor(this.state.randomVeganArray.length/2)}\r\n            >\r\n                {\r\n                    this.state.randomVeganArray.map((eachItem) => {\r\n                        return (\r\n                            <img key={eachItem.id}\r\n                                src={eachItem.image_link}\r\n                                alt={eachItem.name}\r\n                                data-action={eachItem.product_link}\r\n                                style={{ display: 'block', width: '100%' }}\r\n                            />\r\n                        )\r\n                    })\r\n                }\r\n\r\n            </Coverflow>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Carousel;","import React, { Component } from 'react';\r\n\r\n\r\nclass FilterResults extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            refineArray: [],\r\n        }\r\n    }\r\n    // function gets triggered onChange of the checkbox and added to the state or remove when unchecked\r\n    filterSelection = (e) => {\r\n        const set = new Set(this.state.refineArray);\r\n        e.target.checked \r\n        ? \r\n        set.add(e.target.name) \r\n        : \r\n        set.delete(e.target.name);\r\n        this.setState({ \r\n            refineArray: [...set] \r\n        }, \r\n        this.updateRefinedItemsMain);\r\n\r\n    }\r\n    // Function to pass on the props to the Main component\r\n    updateRefinedItemsMain = (e) => {\r\n        this.props.updaterefinedItems(e, this.state.refineArray)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='filterOptions'>\r\n                {/* skip link for accessibility to bypass the filter checkboxes */}\r\n                <a href=\"#main\" class=\"skip-link\">\r\n                    <div>Skip to main content</div>\r\n                </a>\r\n\r\n                <h4>Filter results</h4>\r\n                <div className='filterContainer'>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"Canadian\" \r\n                        name='Canadian' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"Canadian\"> Canadian</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"CertClean\" \r\n                        name='CertClean' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"CertClean\"> Cert Clean</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"chemicalFree\" \r\n                        name='Chemical Free' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"chemicalFree\"> Chemical Free</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"dairyFree\" \r\n                        name='Dairy Free' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"dairyFree\"> Dairy Free</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"ewgVerified\" \r\n                        name='EWG Verified' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"ewgVerified\"> EWG Verified</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"ecoCert\" \r\n                        name='EcoCert' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"ecoCert\"> Eco Cert</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"fairTrade\" \r\n                        name='Fair Trade' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"fairTrade\"> Fair Trade</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"glutenFree\" \r\n                        name='Gluten Free' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"glutenFree\"> Gluten Free</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"hypoallergenic\" \r\n                        name='Hypoallergenic' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"hypoallergenic\"> Hypoallergenic</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"natural\" \r\n                        name='Natural' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"natural\"> Natural</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"nonGmo\" \r\n                        name='Non-GMO' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"nonGmo\"> Non-GMO</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"organic\" \r\n                        name='Organic' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"organic\"> Organic</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"peanutFreeProduct\" \r\n                        name='Peanut Free Product' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"peanutFreeProduct\"> Peanut Free Product</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"sugarFree\" \r\n                        name='Sugar Free' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"sugarFree\"> Sugar Free</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"usdaOrganic\" \r\n                        name='USDA Organic' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"usdaOrganic\"> USDA Organic</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"alcoholFree\" \r\n                        name='alcohol free' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"alcoholFree\"> Alcohol Free</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"oilFree\" \r\n                        name='oil free' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"oilFree\"> Oil Free</label>\r\n                    </div>\r\n                    <div>\r\n                        <input \r\n                        type=\"checkbox\" \r\n                        id=\"waterFree\" \r\n                        ame='water free' \r\n                        onChange={this.filterSelection} />\r\n                        <label htmlFor=\"waterFree\"> Water Free</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FilterResults ","import React, { Component } from 'react';\r\n\r\nclass Sorting extends Component {\r\n    constructor() {\r\n        super()\r\n\r\n        this.state = {}\r\n    }\r\n\r\n    sortingHandle = (e) => {\r\n        const sortDataArray = e.target.value.split('.');\r\n        let isAscending = false;\r\n\r\n        if(sortDataArray[1] === 'ascending' || sortDataArray[0] === 'brand') {\r\n            isAscending = true;\r\n        } else {\r\n            isAscending = false;\r\n        }\r\n\r\n        const sortData = {\r\n            value: sortDataArray[0],\r\n            ascending: isAscending\r\n        }\r\n\r\n        this.props.updateSortBy(sortData);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='sortContainer'>\r\n                <label htmlFor=\"sorting\">Sort By : </label>\r\n\r\n                <select id=\"sorting\" onChange={this.sortingHandle}>\r\n                    <optgroup label=\"Choose One\"></optgroup>\r\n                    <option value=\"brand\" >Alphabetical (by brands)</option>\r\n                    <optgroup label='Ratings'></optgroup>\r\n                    <option value=\"rating.descending\">Rating (Descending)</option>\r\n                    <option value=\"rating.ascending\">Rating (Ascending)</option>\r\n                    <optgroup label='Sort by Price'></optgroup>\r\n                    <option value=\"price.descending\" >Price (Highest)</option>\r\n                    <option value=\"price.ascending\" >Price (Lowest)</option>\r\n\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Sorting;","import React, { Component } from 'react';\r\nimport firebase from '../firebase';\r\nimport Results from './Results';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst SomeComponent = withRouter(props => <Wishlist {...props}/>);\r\n\r\nclass Wishlist extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            userWishlist: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const dbRefUserWish = firebase.database().ref(`users/${this.props.user.uid}/wishlist`);\r\n\r\n        dbRefUserWish.on('value', response => {\r\n            if(response.val()){\r\n                const productIDs = Object.values(response.val());\r\n                const productArray = [];\r\n\r\n                // grabs the items the user saved and filters it out from the list of products\r\n                productIDs.forEach(id => {\r\n                    this.props.veganProducts.filter(product => {\r\n                        if (product.id === id) {\r\n                            productArray.push(product);\r\n                            return true;\r\n                        }\r\n                    });\r\n                });\r\n    \r\n                this.setState({ userWishlist: productArray });\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const dbRefUserWish = firebase.database().ref(`users/${this.props.user.uid}/wishlist`);\r\n        dbRefUserWish.off();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"wishlist\">\r\n                <h2>Your Wishlist</h2>\r\n                <Results filteredResults={this.state.userWishlist} user={this.props.user} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Wishlist;","import React, { Component } from 'react';\r\nimport firebase from '../firebase';\r\nimport ReviewReadPanel from './ReviewReadPanel';\r\n\r\nclass UserReviews extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        //initial states\r\n        this.state = {\r\n            //empty reviews array for firebase reviews to be stored\r\n            reviews: [],\r\n            //empty products array for products reviewed to be stored\r\n            products: []\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        //reference to firebase pointing to user branch/reviews\r\n        const dbRefUser = firebase.database().ref(`users/${this.props.user.uid}/reviews/`);\r\n        //listener on database\r\n        dbRefUser.on(\"value\", response => {\r\n            const dataFromDB = response.val();\r\n            const newState = [];\r\n            const productIDs = [];\r\n            const reviewedProducts = [];\r\n            //loop through dataFromDB and push reviews into array as well as the matching key to be used for React DOM\r\n            for (let key in dataFromDB) {\r\n                newState.push({ review: dataFromDB[key], key });\r\n                productIDs.push(dataFromDB[key].productID);\r\n            }\r\n            //pull product info of products reviewed from veganProducts only if there's products reviewed by comparing the two\r\n            if (productIDs.length > 0) {\r\n                this.props.veganProducts.map(product => {\r\n                    return productIDs.forEach(id => {\r\n                        if (id === product.id) {\r\n                            reviewedProducts.push(product)\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n            //update state for reviews array and products reviewed\r\n            this.setState({\r\n                reviews: newState,\r\n                products: reviewedProducts\r\n            })\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //turn off database listener on unmount\r\n        const dbRefUser = firebase.database().ref(`users/${this.props.user.uid}/reviews/`);\r\n        dbRefUser.off();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"userReviews\">\r\n                {\r\n                    //error handle for no reviews as a result\r\n                    this.state.reviews.length !== 0\r\n                        ?\r\n                        //map through all reviews to render HTML to DOM\r\n                        this.state.reviews.map(review => {\r\n                            return (\r\n                                <div key={review.key}>\r\n                                    <div className=\"productImage\">\r\n                                        {/* use .indexOf since both state arrays were pushed in the same sequence to grab correct variables */}\r\n                                        <img src={this.state.products[this.state.reviews.indexOf(review)].api_featured_image} alt={this.state.products[this.state.reviews.indexOf(review)].name} />\r\n                                        <div className=\"productTextContainer\">\r\n                                            <div className=\"productText\">\r\n                                            <h2>{this.state.products[this.state.reviews.indexOf(review)].name}</h2>\r\n                                            <p>Brand: {!this.state.products[this.state.reviews.indexOf(review)].brand ? \"Not available\" : this.state.products[this.state.reviews.indexOf(review)].brand}</p>\r\n                                            <p>Price: {\r\n                                                this.state.products[this.state.reviews.indexOf(review)].price === \"0.0\" ? \"Not available\" :\r\n                                                `\r\n                                                ${this.state.products[this.state.reviews.indexOf(review)].price_sign ? this.state.products[this.state.reviews.indexOf(review)].price_sign : '$'}${parseInt(this.state.products[this.state.reviews.indexOf(review)].price).toFixed(2)} \r\n                                                ${this.state.products[this.state.reviews.indexOf(review)].currency ? this.state.products[this.state.reviews.indexOf(review)].currency : ''}\r\n                                                `\r\n                                            }</p>\r\n                                            <p>Rating: {!this.state.products[this.state.reviews.indexOf(review)].rating ? \"Not yet rated\" : `${this.state.products[this.state.reviews.indexOf(review)].rating}/5`}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <ReviewReadPanel review={review} user={this.props.user} />\r\n                                </div>\r\n                            )\r\n                        })\r\n                        :\r\n                        <p>You haven't reviewed any products yet! Try going to Search and check out some products you can review.</p>\r\n                }\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserReviews;","import React, { Component, Fragment } from 'react';\r\nimport Search from './Search';\r\nimport Results from './Results';\r\nimport Carousel from './Carousel';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\nimport FilterResults from './FilterResults';\r\nimport Sorting from './Sorting';\r\nimport Wishlist from './Wishlist';\r\nimport UserReviews from './UserReviews';\r\n\r\nconst customHistory = createBrowserHistory();\r\n\r\nclass Main extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            searchInput: '',\r\n            filteredResults: [],\r\n            originalResults: [],\r\n            sortBy: {\r\n                value: 'brand',\r\n                ascending: true\r\n            },\r\n            isSearched: false\r\n        }\r\n    }\r\n\r\n    handleSearchInput = (input) => {\r\n        const validateInput = input.toLowerCase();\r\n\r\n        this.setState({\r\n            searchInput: validateInput,\r\n            isSearched: true\r\n        }, this.filterResults)\r\n    }\r\n\r\n\r\n    sortArray = (arrayToSort) => {\r\n        // Only sort arrays with content\r\n        if (arrayToSort.length !== 0) {\r\n            // spread the passed array so we can work with it\r\n            let sortingArray = [...arrayToSort];\r\n\r\n            sortingArray.sort((productA, productB) => {\r\n                // sortBy is an object that contains the values of the the user's choice\r\n                let productAValue = productA[this.state.sortBy.value];\r\n                let productBValue = productB[this.state.sortBy.value];\r\n                let returnValue;\r\n\r\n                // return value determines sorting order\r\n                if(this.state.sortBy.ascending) {\r\n                    returnValue = 1;\r\n                } else {\r\n                    returnValue = -1;\r\n                }\r\n\r\n                // The next 2 if conditions determine what we should do with the values\r\n                // if value is null then return\r\n                // if it's not a number when parsed, turn it to uppercase\r\n                // if it's a number parse it to a float\r\n                if (!productAValue) {\r\n                    return -returnValue;\r\n                } else if(isNaN(parseInt(productAValue))) {\r\n                    productAValue = productAValue.toUpperCase();\r\n                } else {\r\n                    productAValue = parseFloat(productAValue);\r\n                }\r\n\r\n                if (!productBValue) {\r\n                    return returnValue;\r\n                } else if(isNaN(parseInt(productBValue))) {\r\n                    productBValue = productBValue.toUpperCase();\r\n                } else {\r\n                    productBValue = parseFloat(productBValue);\r\n                }\r\n\r\n                return (productAValue < productBValue) ? -returnValue : (productAValue > productBValue) ? returnValue : 0;\r\n            });\r\n\r\n            return sortingArray;\r\n        }\r\n    }\r\n\r\n    filterResults = () => {\r\n        //called from handleSearchInput() after searchInput state has been updated\r\n        //create an empty filteredArray\r\n        let filteredArray = [];\r\n        //assign filtered veganProducts return to filteredArray\r\n        filteredArray = this.props.veganProducts.filter(product => {\r\n            const productType = product.product_type ? product.product_type.toLowerCase() : \"\";\r\n            const productName = product.name ? product.name.toLowerCase() : \"\";\r\n            const productBrand = product.brand ? product.brand.toLowerCase() : \"\";\r\n            return productType.includes(this.state.searchInput) || productName.includes(this.state.searchInput) || productBrand.includes(this.state.searchInput);\r\n        });\r\n\r\n        //create empty sortedArray\r\n        let sortedArray = [];\r\n        //only sort if there's something there\r\n        if (filteredArray.length > 0) {\r\n            sortedArray = this.sortArray(filteredArray);\r\n        }\r\n\r\n        //if sorted, set the new results to state, if not sorted reset empty arrays to state to trigger a render\r\n        if (sortedArray.length > 0) {\r\n            this.setState({\r\n                filteredResults: sortedArray,\r\n                originalResults: sortedArray\r\n            }, () => {\r\n                customHistory.push('/project6/products');\r\n            });\r\n        } else {\r\n            this.setState({\r\n                filteredResults: filteredArray,\r\n                originalResults: filteredArray\r\n            }, () => {\r\n                customHistory.push('/project6/products');\r\n            });\r\n        }\r\n    }\r\n\r\n    //When any choice from the from filtering gets checked it triggers the function and pass on the props to as an arguments and populate the array by checking if something from filter selection gets clicked populate filteredResult array with new array else show the original array.\r\n    newResults = (e, refinedCategory) => {\r\n        let filterRefinedArray = [];\r\n        if (refinedCategory.length !== 0) {\r\n            this.state.originalResults.map((eachProduct) => {\r\n                return eachProduct.tag_list.forEach((eachTag) => {\r\n                    refinedCategory.forEach((choice) => {\r\n                        if (choice === eachTag) {\r\n                            if (!filterRefinedArray.includes(eachProduct)) {\r\n                                filterRefinedArray.push(eachProduct)\r\n                            }\r\n                        };\r\n                    })\r\n                })\r\n            })\r\n            const sortedRefinedArray = this.sortArray(filterRefinedArray);\r\n            if(sortedRefinedArray){\r\n                this.setState({\r\n                    filteredResults: sortedRefinedArray\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    filteredResults: filterRefinedArray\r\n                })\r\n            }\r\n            \r\n        } else {\r\n            this.setState({\r\n                filteredResults: this.state.originalResults\r\n            })\r\n        }\r\n    }\r\n\r\n    updateSortBy = (option) => {\r\n        this.setState({\r\n            sortBy: option\r\n        }, () => {\r\n            const sortedArray = this.sortArray(this.state.filteredResults);\r\n            this.setState({\r\n                filteredResults: sortedArray\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {        \r\n        return (\r\n            <main className=\"wrapper\">\r\n                <Switch>\r\n                    <Route path=\"/project6/\" exact>\r\n                        {\r\n                            this.state.isSearched\r\n                            ?\r\n                            <Redirect to=\"/project6/products\" />\r\n                            :\r\n                            <Fragment>\r\n                                <Search\r\n                                    veganProducts={this.props.veganProducts}\r\n                                    handleSearchInput={this.handleSearchInput}\r\n                                />\r\n                                <Carousel allItemsArray={this.props.veganProducts}/>\r\n                            </Fragment>\r\n                        }\r\n                    </Route>\r\n                    <Route path=\"/project6/products\">\r\n                        <Search\r\n                            veganProducts={this.props.veganProducts}\r\n                            handleSearchInput={this.handleSearchInput}\r\n                        />\r\n\r\n                        <FilterResults updaterefinedItems={this.newResults} />\r\n\r\n                        <Sorting\r\n                            filteredResults={this.state.filteredResults}\r\n                            updateSortBy= {this.updateSortBy}\r\n                        />\r\n\r\n                        <Results \r\n                            filteredResults={this.state.filteredResults} \r\n                            user={this.props.user} \r\n                            />\r\n\r\n                    </Route>\r\n                    <Route exact path=\"/project6/wishlist\">\r\n                        {\r\n                            this.props.user\r\n                                ?\r\n                                <Wishlist user={this.props.user} veganProducts={this.props.veganProducts}/>\r\n                                :\r\n                                <Redirect to=\"/project6/\" />\r\n                        }\r\n                    </Route>\r\n                    <Route exact path=\"/project6/reviews\">\r\n                        {\r\n                            this.props.user\r\n                                ?\r\n                                <UserReviews\r\n                                    user={this.props.user}\r\n                                    veganProducts={this.props.veganProducts}\r\n                                />\r\n                                :\r\n                                <Redirect to=\"/project6/\" />\r\n                        }\r\n                    </Route>\r\n                </Switch>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n            <div className=\"wrapper\">\r\n                <p>&copy; 2020 \r\n                    <a href=\"http://xyoung.ca/\" \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\">Sui Young</a>, \r\n\r\n                    <a href=\"http://naveenmalhotra.ca/\" \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\">Naveen Malhotra</a>, \r\n\r\n                    <a href=\"https://github.com/joemano\" \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\">Jobert Manosca</a>, \r\n                    \r\n                    <a href=\"https://stephaniekerr.io\" \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\">Stephanie Kerr</a></p>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","// a couple of functions from the React library\r\nimport React, { Component, Fragment } from \"react\";\r\n//import firebase\r\nimport firebase, { auth, provider } from './firebase';\r\n// import components\r\nimport Helmet from './Components/Helmet.js';\r\nimport Preloader from './Components/Preloader';\r\nimport Header from './Components/Header';\r\nimport Main from './Components/Main';\r\nimport Footer from './Components/Footer';\r\n// import axios\r\nimport axios from 'axios';\r\n// import react-router\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n// CSS for the `App` component\r\nimport \"./App.scss\";\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      //set initial state for api data\r\n      veganArray: [],\r\n      //set initial state for preloader\r\n      isLoading: true,\r\n      //set initial state for user login (auth details and historical)\r\n      user: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //api call for data, stored in state veganArray\r\n    //state isLoading set to false to unmount preloader and mount webpage components\r\n    axios({\r\n      url: 'https://makeup-api.herokuapp.com/api/v1/products.json',\r\n      method: 'GET',\r\n      responseType: 'json',\r\n      params: {\r\n        product_tags: 'vegan',\r\n      }\r\n    }).then((response) => {\r\n      this.setState({\r\n        veganArray: response.data,\r\n        isLoading: false,\r\n      })\r\n    })\r\n    //authetication history checked for user to allow persisted login status which triggers loggedin components\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ user });\r\n      };\r\n    })\r\n  }\r\n\r\n  //this function initializes the popup from google to sign in and sets the user state to user's details\r\n  login = () => {\r\n    auth.signInWithPopup(provider)\r\n      .then((result) => {\r\n        this.setState({\r\n          user: result.user\r\n        });\r\n      });\r\n  }\r\n\r\n  //this function initializes sign out and sets the user state back to null, returning enduser to guest/anonymous view components\r\n  logout = () => {\r\n    auth.signOut()\r\n      .then(() => {\r\n        this.setState({\r\n          user: null\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        {/* router may only have one child therefore wrap all components in a fragment */}\r\n        <Fragment>\r\n          {/* helmet allows for injected title, meta tags */}\r\n          <Helmet />\r\n          {/* determine component view based on isLoading state */}\r\n          {this.state.isLoading ? (\r\n            <Preloader />\r\n          ) : (\r\n            <div className=\"outerWrapper\">\r\n              <Header\r\n                login={this.login}\r\n                logout={this.logout}\r\n                user={auth.currentUser}\r\n              />\r\n              <Main\r\n                veganProducts={this.state.veganArray}\r\n                user={auth.currentUser}\r\n                userCheck={auth.onAuthStateChanged}\r\n              />\r\n              <Footer />\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}